# ğŸ›¡ï¸ SENTENG ERP ç³»çµ±æ†²æ³• (System Constitution)

> **ç‰ˆæœ¬**: v1.0.0
> **ç”Ÿæ•ˆæ—¥æœŸ**: 2026-02-03
> **é©ç”¨ç¯„åœ**: SENTENG ERP å…¨ç³»çµ±é–‹ç™¼ã€ç¶­é‹èˆ‡æ²»ç†

---

## ç¬¬ä¸€ç« ï¼šå°ˆå®¶è©•å¯©åœ˜åˆ¶åº¦ (Expert Panel System)

### 1.1 å°ˆå®¶åœ˜çµ„æˆ (Panel Composition)

AI åŠ©ç†åœ¨åŸ·è¡Œä»»å‹™æ™‚ï¼Œå°‡è‡ªå‹•å•Ÿç”¨ä»¥ä¸‹å°ˆå®¶è§’è‰²é€²è¡Œå¤šç¶­åº¦å¯©æŸ¥èˆ‡æ±ºç­–ï¼š

#### ğŸ—ï¸ **é¦–å¸­æ¶æ§‹å¸« (Chief Architect)**
- **è·è²¬**: ç³»çµ±æ•´é«”æ¶æ§‹è¨­è¨ˆã€æ¨¡çµ„åŠƒåˆ†ã€æŠ€è¡“é¸å‹æ±ºç­–
- **å¯©æŸ¥é‡é»**:
  - Domain-Driven Design åˆè¦æ€§
  - æ¨¡çµ„é‚Šç•Œèˆ‡ä¾è³´ç®¡ç†
  - å¯æ“´å±•æ€§èˆ‡éŸŒæ€§è¨­è¨ˆ
  - API å¥‘ç´„è¨­è¨ˆä¸€è‡´æ€§

#### ğŸ” **è³‡å®‰é•· (Chief Security Officer)**
- **è·è²¬**: å®‰å…¨æ¨™æº–åˆ¶å®šã€æ¼æ´è©•ä¼°ã€åˆè¦å¯©è¨ˆ
- **å¯©æŸ¥é‡é»**:
  - èªè­‰èˆ‡æˆæ¬Šæ©Ÿåˆ¶ (RBAC/ABAC)
  - Data-at-Rest èˆ‡ Data-in-Transit åŠ å¯†
  - PII ä¿è­·èˆ‡ GDPR/å€‹è³‡æ³•åˆè¦
  - Rate Limiting èˆ‡ DDoS é˜²è­·
  - IDOR/XSS/CSRF/SQL Injection é˜²è­·

#### âš™ï¸ **DevOps ç¸½ç›£ (DevOps Director)**
- **è·è²¬**: CI/CD æµç¨‹è¨­è¨ˆã€éƒ¨ç½²ç­–ç•¥ã€SRE å¯¦è¸
- **å¯©æŸ¥é‡é»**:
  - Pipeline æ•ˆç‡èˆ‡å¯é æ€§
  - è—ç¶ /é‡‘çµ²é›€éƒ¨ç½²ç­–ç•¥
  - ç›£æ§èˆ‡å‘Šè­¦æ©Ÿåˆ¶ (SLI/SLO/SLA)
  - ç½é›£å¾©åŸç¨‹åº (DR)

#### ğŸ§ª **å“è³ªä¿è­‰ä¸»ç®¡ (QA Lead)**
- **è·è²¬**: æ¸¬è©¦ç­–ç•¥åˆ¶å®šã€è‡ªå‹•åŒ–æ¸¬è©¦æ¡†æ¶ã€ç¼ºé™·è¿½è¹¤
- **å¯©æŸ¥é‡é»**:
  - æ¸¬è©¦è¦†è“‹ç‡ç›®æ¨™ (Unit/Integration/E2E)
  - è¿´æ­¸æ¸¬è©¦è‡ªå‹•åŒ–
  - æ•ˆèƒ½æ¸¬è©¦èˆ‡åŸºæº–
  - å¯åŠæ€§æ¸¬è©¦ (a11y)

#### ğŸ¨ **ä½¿ç”¨è€…é«”é©—ç¸½ç›£ (UX Director)**
- **è·è²¬**: UI/UX è¨­è¨ˆæ¨™æº–ã€è¨­è¨ˆç³»çµ±ç¶­è­·ã€å¯ç”¨æ€§è©•ä¼°
- **å¯©æŸ¥é‡é»**:
  - è¨­è¨ˆä¸€è‡´æ€§èˆ‡å“ç‰Œè¦ç¯„
  - éŸ¿æ‡‰å¼è¨­è¨ˆ (Mobile-First)
  - ç„¡éšœç¤™åˆè¦ (WCAG 2.1 AA)
  - åœ‹éš›åŒ–èˆ‡åœ¨åœ°åŒ– (i18n/L10n)

#### ğŸ“Š **è³‡æ–™æ²»ç†å®˜ (Data Governance Officer)**
- **è·è²¬**: è³‡æ–™æ¨¡å‹è¨­è¨ˆã€è³‡æ–™å“è³ªæ¨™æº–ã€ETL æµç¨‹
- **å¯©æŸ¥é‡é»**:
  - è³‡æ–™å®Œæ•´æ€§èˆ‡ä¸€è‡´æ€§
  - è»Ÿåˆªé™¤ç­–ç•¥èˆ‡å¯©è¨ˆè¿½è¹¤
  - è³‡æ–™ä¿ç•™èˆ‡æ¸…ç†æ”¿ç­–
  - è³‡æ–™é·ç§»è¨ˆç•«

#### ğŸ¢ **ç‡Ÿå»ºé ˜åŸŸå°ˆå®¶ (Construction Domain Expert)**
- **è·è²¬**: å°ç£ç‡Ÿå»ºæ³•è¦çŸ¥è­˜ã€ç”¢æ¥­å¯¦å‹™æµç¨‹ã€åˆè¦æ€§å¯©æŸ¥
- **å¯©æŸ¥é‡é»**:
  - å»ºç¯‰æŠ€è¡“è¦å‰‡åˆè¦
  - å‹å‹•å®‰å…¨è¡›ç”Ÿæ¨™æº–
  - å·¥ç¨‹å“è³ªç®¡ç†è¦ç¯„
  - ç’°ä¿æ³•è¦ (å»¢æ£„ç‰©æ¸…ç†æ³•)
  - æ¡è³¼æ³•èˆ‡å¥‘ç´„è¦ç¯„

#### ğŸ†˜ **ç½å®³æ‡‰è®Šå°ˆå®¶ (Emergency Response Expert)**
- **è·è²¬**: ICS/NIMS æ¨™æº–å°é½Šã€é¿é›£æ‰€ç®¡ç†ã€è³‡æºèª¿åº¦æœ€ä½³åŒ–
- **å¯©æŸ¥é‡é»**:
  - ç·Šæ€¥é€šå ±æµç¨‹ (119 æ•´åˆ)
  - é¿é›£æ‰€é–‹è¨­/æ”¶å®¹ SOP
  - å¿—å·¥èª¿åº¦èˆ‡ä»»å‹™åˆ†æ´¾
  - é›¢ç·šå„ªå…ˆ (Offline-First) éŸŒæ€§

---

## ç¬¬äºŒç« ï¼šé–‹ç™¼æ²»ç†è¦ç¯„ (Development Governance)

### 2.1 æ¬Šé™èˆ‡å®‰å…¨åŸå‰‡

| åŸå‰‡ | èªªæ˜ |
|------|------|
| **Policy-as-Code** | æ¬Šé™å®šç¾©å”¯ä¸€ä¾†æºï¼Œç¦æ­¢æ¥­å‹™é‚è¼¯ç¡¬ç·¨ç¢¼è§’è‰²æª¢æŸ¥ |
| **Default Deny** | æ‰€æœ‰æ–° API é è¨­æ‹’çµ•ï¼Œéœ€æ˜ç¢ºå®£å‘Šæ‰€éœ€æ¬Šé™ç­‰ç´š |
| **Least Privilege** | æˆäºˆæœ€å°å¿…è¦æ¬Šé™ï¼Œå®šæœŸå¯©æ ¸æ¬Šé™ç¯„åœ |
| **Audit Everything** | æ‰€æœ‰æ•æ„Ÿæ“ä½œå¿…é ˆè¨˜éŒ„å¯©è¨ˆæ—¥èªŒ |

### 2.2 éŸŒæ€§èˆ‡æ“´å……åŸå‰‡

| åŸå‰‡ | èªªæ˜ |
|------|------|
| **Resilience-First** | AI/ML ä¸²æ¥å¿…é ˆå…·å‚™æ–·è·¯å™¨ï¼Œé˜²æ­¢å¤–éƒ¨ä¾è³´å´©æ½° |
| **Offline-First** | ç¾å ´ç´€éŒ„åŠŸèƒ½å„ªå…ˆå¯«å…¥ IndexedDBï¼Œç¶²è·¯æ¢å¾©å¾ŒåŒæ­¥ |
| **Graceful Degradation** | æœå‹™é™ç´šæ™‚æä¾›åŸºæœ¬åŠŸèƒ½ï¼Œè€Œéå®Œå…¨å¤±æ•— |
| **Idempotency** | æ‰€æœ‰å¯«å…¥ API å¿…é ˆæ”¯æ´å†ªç­‰æ€§é‡è©¦ |

### 2.3 ç¨‹å¼ç¢¼å“è³ªæ¨™æº–

| æ¨™æº– | ç›®æ¨™ |
|------|------|
| **TypeScript Strict Mode** | æ‰€æœ‰å¾Œç«¯ä»£ç¢¼å•Ÿç”¨åš´æ ¼æ¨¡å¼ |
| **ESLint Zero Warnings** | CI é˜»æ“‹ä»»ä½• ESLint è­¦å‘Š |
| **Unit Test Coverage** | Services é¡åˆ¥ â‰¥ 80% |
| **E2E Critical Path** | æ ¸å¿ƒæ¥­å‹™æµç¨‹ 100% è¦†è“‹ |

---

## ç¬¬ä¸‰ç« ï¼šéƒ¨ç½²èˆ‡ç›£æ§æ†²æ³• (Deployment & Monitoring Constitution)

### 3.1 å¼·åˆ¶æ€§éƒ¨ç½²è¦ç¯„

> âš ï¸ **æ†²æ³•å±¤ç´šè¦å‰‡**: æ¯æ¬¡ `git push` å¾Œï¼Œå¿…é ˆåŸ·è¡Œ `/deployment-monitoring` å·¥ä½œæµç¨‹

1. **ç›£è¦– GitHub Actions**
   - CI workflow å¿…é ˆæˆåŠŸ
   - CodeQL Security Scan å¿…é ˆé€šé
   
2. **é©—è­‰ Vercel éƒ¨ç½²**
   - ç¢ºèªéƒ¨ç½²ç‹€æ…‹ç‚º `Ready`
   - é©—è­‰ Production URL å¯å­˜å–

3. **æœå‹™å¥åº·æª¢æŸ¥**
   - Frontend: `https://senteng.co` â†’ 200 OK
   - Backend: `https://erp-api-381507943724.asia-east1.run.app/api/v1` â†’ 200 OK

### 3.2 SLI/SLO æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™ |
|------|------|
| **å¯ç”¨æ€§** | â‰¥ 99.5% |
| **P95 å»¶é²** | < 500ms |
| **éŒ¯èª¤ç‡** | < 0.1% |

---

## ç¬¬å››ç« ï¼šCRUD å¯¦ä½œæ¨™æº– (CRUD Implementation Standards)

### 4.1 å‰ç«¯ Modal è¨­è¨ˆè¦ç¯„

æ‰€æœ‰ Create/Update è¡¨å–®å¿…é ˆåŒ…å«ï¼š

```jsx
// æ¨™æº– Modal çµæ§‹
{showModal && (
  <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
    <div className="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto">
      {/* Header with close button */}
      {/* Form with validation */}
      {/* Action buttons: Cancel + Submit */}
    </div>
  </div>
)}
```

**å¿…è¦å…ƒç´ **:
- âœ… æ·±è‰²æ¨¡å¼æ”¯æ´ (`dark:` é¡åˆ¥)
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ (`max-h-[90vh] overflow-y-auto`)
- âœ… å¿…å¡«æ¬„ä½æ¨™è¨˜ (`<span className="text-red-500">*</span>`)
- âœ… è¡¨å–®é©—è­‰ (`required` å±¬æ€§)
- âœ… API éŒ¯èª¤è™•ç†èˆ‡ Toast é€šçŸ¥
- âœ… é—œé–‰æŒ‰éˆ•èˆ‡ ESC éµæ”¯æ´

### 4.2 API æ•´åˆæ¨™æº–

```javascript
// æ¨™æº– API å‘¼å«æ¨¡å¼
try {
  await api.post('/endpoint', data);
  addToast?.('æ“ä½œæˆåŠŸ', 'success');
  setShowModal(false);
  fetchData(); // é‡æ–°è¼‰å…¥åˆ—è¡¨
} catch (error) {
  addToast?.('æ“ä½œå¤±æ•—: ' + (error.response?.data?.message || error.message), 'error');
}
```

---

## ç¬¬äº”ç« ï¼šå¯©è¨ˆèˆ‡åˆè¦ (Audit & Compliance)

### 5.1 æ¨¡çµ„æˆç†Ÿåº¦çŸ©é™£

| ç‹€æ…‹ | å®šç¾© | æ¨™è¨˜ |
|------|------|------|
| **Complete** | åŠŸèƒ½å®Œæ•´ã€æ¸¬è©¦é€šéã€æ–‡ä»¶é½Šå…¨ | âœ… |
| **Partial** | åŸºæœ¬åŠŸèƒ½å®Œæˆï¼Œç¼ºå°‘æ¸¬è©¦æˆ–æ–‡ä»¶ | âš ï¸ |
| **STUB** | åƒ…æœ‰ Entity å®šç¾©ï¼Œç„¡å®Œæ•´åŠŸèƒ½ | ğŸ”² |

### 5.2 å°ˆå®¶åœ˜å¯©æ ¸è§¸ç™¼æ¢ä»¶

ä»¥ä¸‹è®Šæ›´éœ€ç¶“å°ˆå®¶åœ˜å¯©æ ¸ï¼š

1. **æ¶æ§‹è®Šæ›´**: æ–°å¢æ¨¡çµ„ã€ä¿®æ”¹æ¨¡çµ„é‚Šç•Œ
2. **å®‰å…¨æ©Ÿåˆ¶**: èªè­‰/æˆæ¬Šæµç¨‹è®Šæ›´
3. **è³‡æ–™æ¨¡å‹**: Entity çµæ§‹è®Šæ›´ã€é·ç§»è…³æœ¬
4. **é—œéµæ¥­å‹™é‚è¼¯**: è²¡å‹™è¨ˆç®—ã€åˆè¦æª¢æŸ¥
5. **å¤–éƒ¨æ•´åˆ**: ç¬¬ä¸‰æ–¹ API ä¸²æ¥

---

## é™„éŒ„ Aï¼šå¿«é€Ÿåƒè€ƒ

### å°ˆå®¶åœ˜å•Ÿç”¨èªæ³•

åœ¨é–‹ç™¼éç¨‹ä¸­ï¼Œå¯é€éä»¥ä¸‹æ–¹å¼è«‹æ±‚ç‰¹å®šå°ˆå®¶å¯©æŸ¥ï¼š

- `@architect` - æ¶æ§‹è¨­è¨ˆå¯©æŸ¥
- `@security` - å®‰å…¨æ€§å¯©æŸ¥
- `@devops` - éƒ¨ç½²èˆ‡ç¶­é‹å¯©æŸ¥
- `@qa` - å“è³ªä¿è­‰å¯©æŸ¥
- `@ux` - ä½¿ç”¨è€…é«”é©—å¯©æŸ¥
- `@data` - è³‡æ–™æ²»ç†å¯©æŸ¥
- `@construction` - ç‡Ÿå»ºé ˜åŸŸå¯©æŸ¥
- `@emergency` - ç½å®³æ‡‰è®Šå¯©æŸ¥

### é—œéµ URLs

| è³‡æº | URL |
|------|-----|
| Production Frontend | https://senteng.co |
| Production API | https://erp-api-381507943724.asia-east1.run.app/api/v1 |
| GitHub Repository | https://github.com/xiangteng007/SENTENG |
| GitHub Actions | https://github.com/xiangteng007/SENTENG/actions |
| Vercel Dashboard | https://vercel.com/dashboard |

---

*æ­¤æ†²æ³•ç‚º SENTENG ERP ç³»çµ±é–‹ç™¼èˆ‡ç¶­é‹çš„æœ€é«˜æŒ‡å°åŸå‰‡ï¼Œæ‰€æœ‰é–‹ç™¼æ´»å‹•å¿…é ˆéµå¾ªæ­¤è¦ç¯„ã€‚*

**å¯©æ‰¹**: Expert Panel v4.1
**æœ€å¾Œæ›´æ–°**: 2026-02-03
